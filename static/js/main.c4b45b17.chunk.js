(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){e.exports=a(297)},177:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(26),i=a(34),u=a(129),m=a(85),s=a.n(m),E=a(59),d=a(138),p=a(60),h=a.n(p),f=function(){return{type:"START_LOADING"}},g=function(e){return{type:"HANDLE_SUCCESS",combineData:e}},v=function(){return{type:"HANDLE_ERROR"}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!1;case"HANDLE_ERROR":return!0;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!1;case"HANDLE_SUCCESS":return!0;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!0;case"HANDLE_SUCCESS":case"HANDLE_ERROR":return!1;default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SUCCESS":return t.combineData;case"POST_DELETE":return console.log(e,"state"),e.filter(function(e){return e.id!==t.id});case"COMMENT_DELETE":return e.map(function(e){return Object(E.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.id})})});default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_POST":return t.value;default:return e}},S=function(e){return e.combineData},A=function(e){return e.isLoading},O=function(e){return e.hasError},T=function(e){return e.isInit},N=function(e){return e.query},R=Object(i.c)({combineData:C,isLoading:b,hasError:y,isInit:D,query:L}),w=Object(i.d)(R,{combineData:[],isLoading:!1,hasError:!1,isInit:!1,query:""},Object(i.a)(u.a)),_=(a(177),a(130)),j=a(302),I=a(309),H=a(307),M=a(303),F=a(310),P=(a(180),a(139)),k=a(306),G=a(36),U=function(e){var t=e.currentUser,a=t.name,n=t.email,c=t.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,a),r.a.createElement("p",null,"@:",n),r.a.createElement("p",null,"city:",c.city))},q=a(305),x=a(308),J={deleteComment:function(e){return{type:"COMMENT_DELETE",id:e}}},z=Object(o.b)(null,J)(function(e){var t=e.currentComments,a=e.deleteComment;return r.a.createElement(r.a.Fragment,null,t.map(function(e){var t=e.email,c=e.body,l=e.id,o=e.name;return r.a.createElement(n.Fragment,{key:l},r.a.createElement(q.a.Group,null,r.a.createElement(q.a,null,r.a.createElement(q.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/stevie.jpg"}),r.a.createElement(q.a.Content,null,r.a.createElement(q.a.Author,null,r.a.createElement(x.a,null,r.a.createElement("p",null,r.a.createElement("span",null,"Comments ID:"),l),r.a.createElement(x.a.Header,null,o),r.a.createElement("p",null,c),r.a.createElement("p",null,r.a.createElement(I.a,{onClick:function(){return a(l)},basic:!0,color:"red"},"delete comment"))),r.a.createElement("p",null),t),r.a.createElement(q.a.Metadata,null,r.a.createElement("div",null,"2 days ago"),r.a.createElement("div",null,r.a.createElement(G.a,{name:"star"}),"5 Faves"))))))}))}),Q={deletePost:function(e){return{type:"POST_DELETE",id:e}}},B=Object(o.b)(function(e){return{combineData:S(e)}},Q)(function(e){var t=e.post,a=e.deletePost,n=t.title,c=t.body,l=t.id,o=t.user,i=t.comments,u=Math.floor(6*Math.random());return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{src:["https://react.semantic-ui.com/images/avatar/large/matthew.png","https://react.semantic-ui.com/images/avatar/large/elliot.jpg","https://react.semantic-ui.com/images/avatar/large/daniel.jpg","https://react.semantic-ui.com/images/avatar/large/steve.jpg","https://react.semantic-ui.com/images/avatar/large/molly.png","https://react.semantic-ui.com/images/avatar/large/jenny.jpg"][u],size:"mini",ui:!1}),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,r.a.createElement(U,{currentUser:o})),r.a.createElement("p",null),r.a.createElement(k.a.Header,null,n),r.a.createElement(k.a.Meta,null,r.a.createElement("p",{className:"date"},l),r.a.createElement("p",{className:"date"},c),r.a.createElement("p",{className:"date"},"Joined in 20",Math.floor(10+10*Math.random()))),r.a.createElement(k.a.Description,null,r.a.createElement(z,{currentComments:i}))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement("a",{href:"./#"},r.a.createElement(G.a,{name:"user"}),Math.floor(100*Math.random())," ","Friends"),r.a.createElement(k.a.Description,null,r.a.createElement(I.a,{primary:!0,onClick:function(){return a(l)},basic:!0,color:"red"},"DELETE"))))});a(296);function K(e){var t=e.combineData,a=e.isLoading,n=e.hasError,c=e.loadDataFromServer,l=e.query,o=e.isInit,i=e.searchQuery,u=function(){c()},m=""===l?t:t.filter(function(e){return(e.title+e.body).toLowerCase().includes(l.toLowerCase())});return console.log(m),r.a.createElement(j.a,{className:"App"},(m.length>0||o)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.DebounceInput,{debounceTimeout:500,onChange:function(e){return i(e.target.value)},icon:"search",placeholder:"Search..."}),r.a.createElement(I.a.Group,null,r.a.createElement(I.a,null,"Now is shown",m.length," ","posts"),r.a.createElement(I.a,{onClick:u},"Reload all posts"))),a&&r.a.createElement(H.a,{active:!0},r.a.createElement(M.a,{size:"huge"},"LOADING.....")),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Error"),r.a.createElement(I.a,{onClick:u},"Try Again")),0!==m.length||n||o?r.a.createElement(F.a,{columns:3,divided:!0},r.a.createElement(F.a.Row,null,m.map(function(e){return r.a.createElement(F.a.Column,{key:e.id},r.a.createElement(B,{post:e}))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"No Posts yet "),r.a.createElement(I.a,{onClick:u,content:"Load",icon:"right arrow",labelPosition:"right"})))}var V={startLoading:f,handleError:v,handleSuccess:g,loadDataFromServer:function(){return function(e){var t,a,n,r,c,l;return s.a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e({type:"START_LOADING"}),o.next=3,s.a.awrap(Promise.all([h.a.get("https://jsonplaceholder.typicode.com/posts"),h.a.get("https://jsonplaceholder.typicode.com/users"),h.a.get("https://jsonplaceholder.typicode.com/comments")]).catch(function(){e({type:"HANDLE_ERROR"})}));case 3:t=o.sent,a=Object(d.a)(t,3),n=a[0],r=a[1],c=a[2],l=n.data.map(function(e){return Object(E.a)({},e,{user:r.data.find(function(t){return t.id===e.userId}),comments:c.data.filter(function(t){return t.postId===e.id})})}),e(g(l));case 10:case"end":return o.stop()}})}},searchQuery:function(e){return{type:"SEARCH_POST",value:e}}},W=Object(o.b)(function(e){return{combineData:S(e),isLoading:A(e),hasError:O(e),isInit:T(e),query:N(e)}},V)(K);K.defaultProps={isInit:!1},l.a.render(r.a.createElement(o.a,{store:w},r.a.createElement(W,null)),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.c4b45b17.chunk.js.map